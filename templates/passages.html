{{define "head"}}<title>Passages | Bible Memory</title>{{end}}
{{define "body"}}
<div class="flex h-full">
  <div class="w-1/3 border-r border-slate-300 max-w-96 flex-shrink-0">
    <a class="p-2 mx-2 flex items-center gap-1 border-b border-slate-300" href="/passages/new" hx-target="#main">
      <svg class="icon">
        <use href="/assets/icons.svg#plus"></use>
      </svg>
      Add Passage
    </a>
    <ul>
      {{range .Passages}}
      <li class="py-2 mx-2 border-b border-slate-300">
        <div class="flex items-center mb-1 pl-2 pr-1">
          <a class="flex-grow" href="/passages/{{.Id}}/review" hx-target="#main">
            {{.Reference}}
          </a>
          <a class="w-6 h-6 flex items-center justify-center" href="/passages/{{.Id}}" hx-target="#main">
            <span class="sr-only">Edit</span>
            <svg class="icon">
              <use href="/assets/icons.svg#pencil" />
            </svg>
          </a>
          <button class="w-6 h-6 text-red-700 flex items-center justify-center" hx-delete="/passages/{{.Id}}"
            hx-target="closest li" hx-swap="outerHTML" hx-confirm="Are you sure you want to delete {{.Reference}}?"
            title="Delete">
            <span class="sr-only">Delete</span>
            <svg class="icon">
              <use href="/assets/icons.svg#trash" />
            </svg>
          </button>
        </div>
        <div class="flex items-center px-2">
          <span class="text-xs flex-grow">
            Review: {{if eq .ReviewAt ""}}-{{else}}{{.ReviewAt}}{{end}}
          </span>
          <span class="text-xs">Level: {{.Level}}</span>
        </div>
      </li>
      {{end}}
    </ul>
  </div>
  <main id="main" class="flex-grow relative">
    {{template "main" .}}
  </main>
</div>
{{end}}

{{define "main"}}{{end}}