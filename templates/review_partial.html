<div class="review-panel">
  <div id="result"></div>
  <div id="typer"></div>
</div>

<style>
  .review-panel {
    padding: 8px;
  }
</style>

<script type="text/javascript">
  Typer({
    el: document.querySelector('#typer'),
    words: [
      {{range .Words}}
        {
          word: "{{.Word}}",
          {{if .Prefix}}prefix: "{{.Prefix}}",{{end}}
          {{if .Gap}}suffix: "{{.Gap}}"{{end}}
        },
      {{end}}
    ],
    mode: "{{.Mode}}",
    onComplete({ accuracy }) {
      htmx.ajax("POST", "/passages/{{.Id}}/review", {
        values: { accuracy },
        target: '#result'
      })
    }
  })
</script>