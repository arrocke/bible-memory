<div class="review-passage-view">
  <h2 class="view-header">Review {{.Reference}}</h2>
  <div id="result"></div>
  <div id="typer"></div>
</div>

<style>
  .view-header {
    margin: 0 0 16px 0;
  }

  .review-passage-view {
    padding: 16px;
  }
</style>

<script type="text/javascript">
  Typer({
    el: document.querySelector('#typer'),
    words: [
      {{ range .Words }}
        {
      word: "{{.Word}}",
          {{ if .Prefix }}prefix: "{{.Prefix}}", {{ end }}
    {{ if .Gap }}suffix: "{{.Gap}}"{{ end }}
        },
    {{ end }}
    ],
    mode: "{{.Mode}}",
    onComplete({ accuracy }) {
    htmx.ajax("POST", "/passages/{{.Id}}/review", {
      values: { accuracy },
      target: '#result'
    })
  }
  })
</script>